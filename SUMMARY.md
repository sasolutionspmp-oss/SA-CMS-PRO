SUMMARY SNAPSHOT - 2025-09-20T19:35Z (~340 words)

Ingest parsing is now production-ready across the core document formats. PDF extraction prefers pypdf so text-first specs and plan sets stream straight into the pipeline, and when that path returns empty the service checks the config flag and shells out to `ocrmypdf` for an OCR sidecar before giving up. DOCX handling walks both paragraphs and any available table rows, preserving cell lineage, while XLSX previews now emit `Sheet!A1`-style identifiers with sample values so downstream tooling can correlate grid data without reopening the workbook. Metadata captures sheet counts, sampled cell totals, and redaction flags, and the normalizer still feeds 1.5–2.0k character chunks with raw sanitized text attached to chunk zero for spec title lookups.

Task 14’s classifier continues to ride on top of that cleaned feed: discipline tags stay authoritative, section heuristics still round out the metadata, and the sample corpus test guards against regressions by asserting ≥90% coverage on representative snippets. The risk flagger (Task 16) and summariser (Task 15) remain untouched—`risk_flags.json` keeps landing alongside uploads with line-referenced insights, and BM25/TextRank+MMR continue to populate both `summary_highlights.json` and the 200–400 word `summary.md` artifact consumed by the dashboard.

Backend scaffolding (Task 7) is still healthy: `server/main.py` boots FastAPI with intake/export routers plus the platform mount, and the health suite (`.venv\Scripts\python.exe -m pytest tests/unit/test_health.py`) stays green even after the ingest changes. The optional auth shim (Task 8) keeps demo flows frictionless by auto-seeding a user/org/project whenever `SA_CMS_PRO_AUTH_OPTIONAL` is enabled, with the React bootstrap honoring the same toggle so offline runs hydrate immediately.

Regression commands executed after the latest parser updates: `.venv\Scripts\python.exe -m pytest tests/unit/ingest/test_parsing.py`, `.venv\Scripts\python.exe -m pytest tests/unit/test_ingest_pipeline.py`, `.venv\Scripts\python.exe -m pytest tests/unit/test_intake_service.py`, and `.venv\Scripts\python.exe -m pytest tests/unit/ingest/test_classifier.py`.
