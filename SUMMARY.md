SUMMARY SNAPSHOT - 2025-09-20T19:24Z (~330 words)

Ingest processing now enforces consistent chunk hygiene: the new normalizer collapses excess whitespace while preserving line breaks, optionally redacts emails and phone numbers, and emits 1.5–2.0k character chunks with stable sequencing metadata. `build_graph` brands chunk zero with the full sanitized source so downstream parsers keep context, while `pipeline._persist_chunks` now records the chunk index, redaction flag, and raw-text header so specification lookups still resolve `section_title` cleanly after normalization. Vector payloads gained `chunk_index`, `chunk_count`, and `redacted` attributes, and intake artifacts inherit the same sanitised payload so snippets, risk scans, and summaries read from a single source of truth.

Task 14’s classifier additions continue to layer on top of that feed: `classify_section` still blends keyword, regex, and filename hints, but discipline labels remain authoritative for storage, ensuring structural drawings and MEP notes stay queryable by trade even when a section tag is present. The representative corpus test (`test_classifier_sample_corpus_covers_major_sections`) guards the heuristic deck so future tuning keeps at least 90 % coverage across Instructions to Bidders, General Conditions, Specs, Plans, Schedules, Addenda, Safety, Bonds & Insurance, Pricing Forms, and Scope of Work excerpts.

Risk intelligence from Task 16 and the extractive summariser from Task 15 remain intact. `_generate_risk_flags` still writes `risk_flags.json` with line-referenced snippets and the dashboard renders the insights immediately, while `summarizer.render_summary_markdown` continues to blend BM25, TextRank, and MMR to produce both `summary_highlights.json` and a 200–400 word `summary.md`. IntakeService records redaction state, summary timestamps, and risk metadata on `IntakeRunStatus`, so the React dashboard consumes a unified payload covering risk, summary, and section insights without post-processing.

Backend scaffolding (Task 7) also stays green: `server/main.py` boots FastAPI with intake/export routers, the platform API mount, and session guards, and health checks in `.venv\Scripts\python.exe -m pytest tests/unit/test_health.py` continue to pass, confirming the application spins up cleanly after the ingest changes.

Regression commands executed after the latest updates: `.venv\Scripts\python.exe -m pytest tests/unit/ingest/test_normalizer.py`, `.venv\Scripts\python.exe -m pytest tests/unit/test_ingest_pipeline.py`, `.venv\Scripts\python.exe -m pytest tests/unit/test_intake_service.py`, and `.venv\Scripts\python.exe -m pytest tests/unit/ingest/test_classifier.py`.
